
 

<mat-card class="form-card">
  <mat-card-title class="form-title">表单学习页面</mat-card-title>
   <div class="title-underline"></div> <!-- 独立的蓝线，更好控间距 -->
  <mat-card-content>
<form [formGroup]="form" (ngSubmit)="submit()" class="form-grid">

  <!-- 文本输入 -->
  <mat-form-field appearance="outline">
    <mat-label>姓名</mat-label>
    <input matInput placeholder="请输入姓名" formControlName="name">
    <mat-error *ngIf="submitted && form.controls.name.errors?.['required']">姓名必填</mat-error>
    <mat-error *ngIf="submitted && form.controls.name.errors?.['minlength']">至少 2 个字符</mat-error>
  </mat-form-field>

  <!-- 单选：性别 -->
  <div class="field">
    <label class="field-label">性别</label>
    <mat-radio-group formControlName="gender" class="row">
      <mat-radio-button value="male">男</mat-radio-button>
      <mat-radio-button value="female">女</mat-radio-button>
    </mat-radio-group>
  </div>

  <!-- 下拉选择：科室 -->
  <mat-form-field appearance="outline">
    <mat-label>科室</mat-label>
    <mat-select formControlName="dept">
      <mat-option *ngFor="let d of depts" [value]="d">{{ d }}</mat-option>
    </mat-select>
    <mat-error *ngIf="submitted && form.controls.dept.invalid">请选择科室</mat-error>
  </mat-form-field>

  <!-- 日期选择：生日 -->
  <mat-form-field appearance="outline">
    <mat-label>出生日期</mat-label>
    <input matInput [matDatepicker]="picker" placeholder="选择日期" formControlName="birthday">
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
    <mat-error *ngIf="submitted && form.controls.birthday.invalid">请选择日期</mat-error>
  </mat-form-field>

  <!-- 手机号 -->
  <mat-form-field appearance="outline">
    <mat-label>手机号</mat-label>
    <input matInput placeholder="可选项" formControlName="phone">
    <mat-hint align="end">示例：13800001234</mat-hint>
    <mat-error *ngIf="submitted && form.controls.phone.invalid">手机号格式不正确</mat-error>
  </mat-form-field>

  <!-- 自动完成（标签） -->
  <mat-form-field appearance="outline">
    <mat-label>标签（自动完成）</mat-label>
    <input
      type="text"
      matInput
      formControlName="tags"
      [matAutocomplete]="auto"
      placeholder="输入关键字试试：糖/高/过敏/..."
    >
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let opt of tagOptions"
                  [value]="opt">
        {{ opt }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <!-- 开关 -->
  <div class="field">
    <label class="field-label">消息通知</label>
    <mat-slide-toggle formControlName="enableNotify">开启</mat-slide-toggle>
  </div>

  <!-- 滑块 -->
  <div class="field">
    <label class="field-label">疼痛等级（0-10）</label>
    <mat-slider min="0" max="10" step="1" showTickMarks >
         <input matSliderThumb formControlName="painLevel">
    </mat-slider>
  </div>

  <!-- 勾选同意 -->
  <div class="field">
    <mat-checkbox formControlName="agree">我已阅读并同意隐私政策</mat-checkbox>
    <div class="error" *ngIf="submitted && form.controls.agree.invalid">需勾选同意</div>
  </div>

  <!-- 操作按钮 -->
  <div class="actions">
    <button mat-raised-button color="primary" type="submit">
      <mat-icon>check</mat-icon>&nbsp;提交
    </button>
    <button mat-stroked-button type="button" (click)="reset()">
      <mat-icon>refresh</mat-icon>&nbsp;重置
    </button>
  </div>
</form>
  </mat-card-content>

<!-- 提交结果展示 -->
<pre *ngIf="resultJson" class="result">{{ resultJson }}</pre>